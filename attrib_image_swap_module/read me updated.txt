Forum thread: https://www.zen-cart.com/showthread.php?98315-Attribute-image-replaces-main-product-image-on-select-Support-Thread


In this improved verson, the main image remains the same for the attribute which does not have attribute images and returns
to the product image after selecting an attribute that doesn't have an attribute image. It also now supports at least using
the image provided by image handlers such as Image Handler version 4.
This module provides the functionality to get the attribute image in place of main product image when user selects the particular attribute.
This functionality has a full control through admin. It can be made on and off for designated option names from the admin.
It is very easy to integrate with zen cart.
To use this functionality,
rename the YOUR_TEMPLATE directory found in includes/modules to the name of your template and merge the contents of the file(s)
in that folder with the file(s) in your existing folder.  The file has been made compatible with potteryhouse's 
stock by attributes, with products attribute grid and is based on ZC 1.5.5.  In the root directory is a copy of ZC 1.5.5.b's ajax.php file
that was updated 02 Nov 2016 which should be an improved version over previous ZC versions and it should also replace the use of attrib_prod_info.php and add
the protection offered by ZC functionality.
Two ways to address the admin files: either rename the admin folder to your *SECRET* admin directory name and upload
both the newly named admin directory and the includes folders to the root of your store (suggest merging file contents
wherever an existing file is present in your store's copy), or can copy/merge the contents of the admin directory into
the admin directory of your store.
Running the sql query in the admin, tools->install SQL Patches area will add the products options type link and nothing 
extra, although the true functionality of that option does not yet appear to be revealed, so probably could be omitted.
copy this module and run the sql query using admin sql patches. 
To turn this functionality ON select the option name in option name manager and put the value 6 or 7 in Attribute Style for Radio Buttons/Checkbox:text box.
It also works for check box and has additional option type Link.
Attribute images shown on the product listing page can be made off by entering an Attribute Style value 7 (swap will still occur).
For those that wish to merge the functionality further with other javascript related code, the product image is returned
from the file: includes/classes/ajax/zcAttrib_prod_info.php and the function swap_image of the class.
The return code will be json_encoded by ajax.php then will go through JSON.parse on the receiving page.  Thus, addition
of other javascript into that return will have to be properly escaped to maintain valid JSON throughout the communication.
Code for color-box or other main-image modifiers can be added to that return result.
Will appreciate response. Please provide comment about the plugin to further upgrade this module.
Thanks. 

If after installation/load of the includes/modules/YOUR_TEMPLATE/attributes.php
you find that standard dropdown (select) attributes are not displayed, then
either you haven't updated to ZC 1.5.5 and an older ZC plugin has removed expected
database values or the upgrade was not properly completed.  At any rate, the most
likely solution is to run the contents of the sql_run_missing_dropdowns.txt file
through the admin->Tools->Install SQL Patches tool to restore the necessary 
database records.

For all installations, the following file(s) do not need to be uploaded to the server:
read me updated.txt
sql_run.txt
sql_run_missing_dropdowns.txt

For new installations or updates after v1.5.6 of this plugin, the following additional file(s) do not need to be uploaded to the server:
attrib_prod_info.php
includes/functions/extra_functions/vishal_functions.php

For upgrades to v1.5.6 of this plugin, the following file(s) should be removed from the server:
attrib_prod_info.php
includes/functions/extra_functions/vishal_functions.php


Updated by mc12345678: mc12345678.com on 18 Dec 2016 v1.5.6 User profile: https://www.zen-cart.com/member.php?120199-mc12345678
Previously updated by travbow on 19 Oct 2016 v1.5.5 User profile: https://www.zen-cart.com/member.php?197702-travbow

Updated again by vishalmelmatti on 13 Apr 2008 v1.3.7
First published to ZC:  vishalmelmatti 11 Apr 2008 V1.3.7 User profile: https://www.zen-cart.com/member.php?53609-vishalmelmatti